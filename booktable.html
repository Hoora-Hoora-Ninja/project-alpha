<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=1200">
    <title>Book a Table</title>
    <link rel = "icon" href = "img/iconmenu.png"  type = "image/x-icon">

 <!-- Custom fonts for this template-->
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />

 <!-- Custom styles for this template-->
 <link href="/potionLib/css/potion-bs.css" rel="stylesheet">
 <link href="/potionLib/css/potion-custom.css" rel="stylesheet">

 <!-- Bootstrap core JavaScript-->
 <script src="/potionLib/vendor/jquery/jquery.min.js"></script>
 <script src="/potionLib/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

 <!-- Core plugin JavaScript-->
 <script src="/potionLib/vendor/jquery-easing/jquery.easing.min.js"></script>

 <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
 <link href="/library/dist/css/select2.min.css" rel="stylesheet" />
 <script src="/library/dist/js/select2.min.js"></script>
 <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">




 <link rel="stylesheet" href="/css/qrcode.css"> 


</head>
<body  id="scrollUp">

    <div class="qrList hidden">
        
        <div class="bookingEmpty mt-2 mx-auto" style="width: 18rem;">
            <img class="w-100" src="/img/keranjang2.png" alt="Card image cap">
            <div class="card-body mx-auto d-flex justify-content-between align-items-center flex-column">
              <p class="card-text">You have not made any booking yet</p>
              <a href="/booktable.html">
                <button class="btn mt-3 btn-success btnBook px-5">Book a Table</button>
              </a>
              
            </div>
          </div>



        </div>



<!-- SIDEBAR -->
<nav id="sidebar" class="hidden">
    
<button onclick="topFunction()" id="myBtn" title="Go to top">
    <i class="fas fa-arrow-up text-white"></i>
    </button>

    <div class="sidebar-header border-bottom text-center">
        <img src="/img/ambrosblack.png" class="text-black-50" height="30" alt="">
    </div>
    <ul class="list-unstyled components">
        <li class="active">
            <a href="/index.html">
                <img src="/img/homelogo.png" style="padding-right: 7px;" height="20" alt="">
                Home</a>
        </li>	
        <li>
            <a href="/menu.html">
                <img src="/img/menulogo.png" style="padding-right: 7px;" height="20" alt="">
                    Menu</a>
        </li>
        <li>
            <a href="/aboutus.html">
                <img src="/img/aboutlogo.png" style="padding-right: 7px;" height="20" alt="">
                About Us</a>
        </li>
        <li>
            <a href="/booktable.html">
                <img src="/img/tablelogo.png" style="padding-right: 7px;" height="20" alt="">
                Book a Table</a>
        </li>

    </ul>
</nav>
<!-- SIDEBAR END -->

    <!-- nav top -->
    <nav class="navbar fixed-top d-flex bg-transparent justify-content-between py-3 px-3" id="navTop">
        <a class="" href="#" id="sidebarCollapse">
            <i class="fa fa-bars" id="bars" style="font-size:20px;" aria-hidden="true"></i>
        </a>     
        <img src="/img/ambroswhite.png" height="30" alt="">
        <a class="" href="#" id="keranjangCollapse">
            <img src="/img/task.png" id="keranjangImg" height="30" alt="">
        </a>  
    </nav>
    <!-- nav top end -->
   
  
<div class="wrapper">

    <div id="content">    
<!-- QR code -->
<div class="container-fluid my-5" style="min-height: 15vh;">
    <div class="mx-auto text-center" style=" padding-top: 50px;">
        <div class="title text-white pb-2" style="margin-bottom: 20px;">
            <h2 style="font-weight: bolder;">Book a Table</h2>
        </div>
        <div class="mx-auto text-center" style="width: 700px;">
            <div class="row">
                <div class="col-5 text-right">
                    <h4 style="font-weight: bolder;">Date</h4>
                </div>
                <div class="col-7">
                    <div class="input-group mb-3 mx-2">
                        <input type="date" class="form-control datepicker" aria-describedby="basic-addon1" id ="iDate">
                    </div>
                 </div>
            </div>
            <div class="row">
                <div class="col-5 text-right">
                    <h4 style="font-weight: bolder;">Time</h4>
                </div>
                <div class="col-7">
                    <div class="input-group mb-3 mx-2">
                        <input type="time" class="form-control" aria-describedby="basic-addon1" id="iTime">
                    </div>
                 </div>
            </div>
            <div class="row">
                <div class="col-5 text-right">
                    <h4 style="font-weight: bolder;">Person</h4>
                </div>
                <div class="col-7">
                    <div class="input-group mb-3 mx-2">
                        <input type="number" class="form-control" aria-describedby="basic-addon1" id="iPerson">
                    </div>
                 </div>
            </div>
            <div class="row">
                <br>
            </div>
            <div class="row">
                <div class="col-5 text-right">
                    <h4 style="font-weight: bolder;">Name</h4>
                </div>
                <div class="col-7">
                    <div class="input-group mb-3 mx-2">
                        <input type="text" class="form-control" aria-describedby="basic-addon1" id="iName">
                    </div>
                 </div>
            </div>
            <div class="row">
                <div class="col-5 text-right">
                    <h4 style="font-weight: bolder;">Phone Number</h4>
                </div>
                <div class="col-7">
                    <div class="input-group mb-3 mx-2">
                        <input type="number" class="form-control" aria-describedby="basic-addon1" id="iPhone">
                    </div>
                 </div>
            </div>
            <div class="row"><br></div>
            <div class="row"><br></div>
            <div class="row" style="margin-bottom: 50px;">
                <div class="col-6 text-right">
                    <button onclick="chooseMenu()" class="btn mt-3 btn-success btnBook mb-4"  style="width:150px;">Choose Menu</button>
                </div>
                <div class="col-6 text-left">
                    <button onclick="bookseats()" class="btn mt-3 btn-success btnBook mb-4"  style="width:150px;">Just Book Seats</button>
                </div>
            </div>
        </div>
<!-- QR code done -->

<!-- ----- FOOTER--- -- -->
<footer>
    <div class="footer-content">
        <div class="row text-white w-75 mx-auto" >
            <div class="col">
                <p style="font-size: 15px; font-weight: bolder;">Follow Us</p>
                <a href="#"><img src="/img/sosmed.png" height="24" style="position: relative; top: -5px;"></a>
                <p style="font-size: 15px; font-weight: bolder;">Ambros Restaurant</p>
                <a href="#"><p style="font-size: 15px; padding: 6px 0;">Find a Restaurant</p></a>
                <a href="#"><p style="font-size: 15px; padding: 6px 0;">Order Status</p></a>
                <a href="#"><p style="font-size: 15px; padding: 6px 0;">Shopping Help</p></a>
                <a href="#"><p style="font-size: 15px; padding: 6px 0;">Improve Us</p></a>
                <br><br>
                <p style="font-size: 15px; font-weight: bolder;">Frequently Asked Question</p>
            </div>
            <div class="col">
                <p style="font-size: 15px; font-weight: bolder;">Term and Condition</p>
                <a href="#"><p style="font-size: 15px; padding: 6px 0;">Delivery</p></a>
                <a href="#"><p style="font-size: 15px; padding: 6px 0;">Booking Seats</p></a>
                <br>
                <p style="font-size: 15px; font-weight: bolder;">Change Theme</p>
                
            </div>
            <div class="col">
               <p style="font-size: 15px; font-weight: bolder;">Career</p>
               <a href="#"><p style="font-size: 15px; padding: 6px 0;">Ambros and Business</p></a>
               <a href="#"><p style="font-size: 15px; padding: 6px 0;">Partnership</p></a>
               <br>
               <p style="font-size: 15px; font-weight: bolder;">Want Invest?</p>
               <a href="#"><p style="font-size: 15px; padding: 6px 0;">Job Opportunities</p></a>
               <a href="#"><p style="font-size: 15px; padding: 6px 0;">Investors</p></a>
               <a href="#"><p style="font-size: 15px; padding: 6px 0;">Events</p></a>
                

            </div>
            <div class="col">
                <p style="font-size: 15px; font-weight: bolder;">Account</p>
                <a href="#"><p style="font-size: 15px; padding: 6px 0;">Create New Account</p></a>
                <a href="#"><p style="font-size: 15px; padding: 6px 0;">Manage Your Account</p></a>
                <a href="#"><p style="font-size: 15px; padding: 6px 0;">Forgot Password</p></a>
            </div>
        </div>

        <div>
            <div class="isi footer text-white w-75 mx-auto" style="padding-top:100px;">
                More way to shop: Find a <span style="color:rgb(189, 27, 189)">Restaurant near you</span>. Or call 021-5555-6679
                <p class="border-bottom py-2"></p>   
                Copyright 2022 Ambros. All right served. Privacy Policy    | Terms of use     | Site Map   Indonesia
                <br><br>
                <br>
            </div>
        </div>
        

    </div>


</footer>
<!-- --- FOOTER DONE --- -->

<!-- content end -->
    </div> 


<!-- wrapper end -->
</div>

     
    
     









    <script src="js/jquery.min.js"></script>
    <script src="js/popper.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>


    <script>

        AOS.init();
        $(document).ready(function(){
    
        var existingEntries = JSON.parse(localStorage.getItem("allEntries"));
        console.log(existingEntries);
        if(existingEntries == null){
            console.log("not hidden");
            $(".bookingEmpty").removeClass("hidden");
        }else{
            console.log("hidden");
            $(".bookingEmpty").addClass("hidden");

            existingEntries.forEach(e => {
                const img = document.createElement("img");
            img.className = "pb-4";
            img.src = "/img/qr.png";
            img.width = 200;
            const div1 = document.createElement("div");
            const h5 = document.createElement("h5");
            h5.textContent = e.date;
            h5.className ="card-title";

            div1.className = "card my-2 mx-auto d-flex justify-content-center align-items-center rounded shadow ";
            div1.style.width = "18rem";
            const div2 = document.createElement("div");
            div2.className = "w-100 pl-3 pt-4";
            div2.appendChild(h5)
            div1.appendChild(div2);
            const div3 = document.createElement("div");
            div3.className = "row";
            div1.appendChild(div3);
            const col1 = document.createElement("div");
            col1.className = "col";
            const span1 = document.createElement("span");
            const icon1 = document.createElement("img");
            icon1.src ="/img/clock.png";
            icon1.style.paddingRight = 5;
            icon1.height = 15;
            icon1.className = "pl-1";
            span1.textContent = e.time;
            span1.appendChild(icon1);
            col1.appendChild(span1);
            const col2 = document.createElement("div");
            col2.className = "col";
            const span2 = document.createElement("span");
            const icon2 = document.createElement("img");
            icon2.src ="/img/iconppl.png";
            icon2.style.paddingRight = 5;
            icon2.height = 15;
            icon2.className = "pl-1";
            span2.textContent = e.person;
            span2.appendChild(icon2);
            col2.appendChild(span2);
            div3.appendChild(col1);
            div3.appendChild(col2);
            div2.appendChild(div3);

            const span3 = document.createElement("span");
            span3.className = "badge badge-info my-2";
            span3.style.fontSize = 12;
            span3.textContent = "Upcoming";

            div2.appendChild(span3);
            div1.appendChild(img);

            $(".qrList").append(div1);

            });
        }

        




            $("#sidebar").toggleClass('hides');
            $(".qrList").toggleClass('qrListToggle');

            setTimeout(showSidebar,300);
            setTimeout($(".qrList").removeClass("hidden"),300);

                $("#sidebarCollapse").on('click', function(){ 
                    if(document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                        console.log(">20");
                        $("#sidebar").removeClass('hides'); 
                        $("#bars").toggleClass('colorBars'); 
                    }else{
                        $("#sidebar").toggleClass('hides'); 
                        $("#bars").toggleClass('colorBars'); 
                    }
                       
                })

               
               
                $("#keranjangCollapse").on('click', function(){ 
                        $(".qrList").toggleClass('qrListToggle'); 
                        console.log("tes");

                       
                })

            
        })

        function chooseMenu(){
            var date,time,person,name,phone;
            date = document.getElementById("iDate").value;
            time = document.getElementById("iTime").value;
            person = document.getElementById("iPerson").value;
            name = document.getElementById("iName").value;
            phone = document.getElementById("iPhone").value;
            
            if( date.length == 0 || time.length == 0 || person.length == 0 || name.length == 0 || phone.length == 0){
                alert("All fields must not be empty");
            }else{
                var existingEntries = JSON.parse(localStorage.getItem("tempData"));
                if(existingEntries != null){
                    localStorage.removeItem("tempData");
                } 
                var entry = {
                    "date": date,
                    "time": time,
                    "person": person,
                    "name": name,
                    "phone": phone
                };
                localStorage.setItem("tempData", JSON.stringify(entry));
                window.location.href='/choosemenu.html'
            }

            
        }
        
        function bookseats(){
            var date,time,person,name,phone;
            date = document.getElementById("iDate").value;
            time = document.getElementById("iTime").value;
            person = document.getElementById("iPerson").value;
            name = document.getElementById("iName").value;
            phone = document.getElementById("iPhone").value;
            
            if( date.length == 0 || time.length == 0 || person.length == 0 || name.length == 0 || phone.length == 0){
                alert("All fields must not be empty");
            }else{
                var existingEntries = JSON.parse(localStorage.getItem("allEntries"));
                if(existingEntries == null) existingEntries = [];
                var entry = {
                    "date": date,
                    "time": time,
                    "person": person,
                    "name": name,
                    "phone": phone
                };
                localStorage.setItem("entry", JSON.stringify(entry));
                // Save allEntries back to local storage
                existingEntries.push(entry);
                localStorage.setItem("allEntries", JSON.stringify(existingEntries));


                window.location.href='/qrcode.html'
            }
         
        }

        function order(){
            if(document.getElementById('cost').innerHTML == ""){
                alert("Pick atleast 1 menu!");
            }else{
                location.href = '/menu.html';
            }

        }

        function showSidebar() {
            $("#sidebar").removeClass("hidden");
        }

        function formatRupiah(angka){
            split   		= angka.toString().split(','),
            sisa     		= split[0].length % 3,
            rupiah     		= split[0].substr(0, sisa),
            ribuan     		= split[0].substr(sisa).match(/\d{3}/gi);
        
            // tambahkan titik jika yang di input sudah menjadi angka ribuan
            if(ribuan){
                separator = sisa ? '.' : '';
                rupiah += separator + ribuan.join('.');
            }
        
            rupiah = split[1] != undefined ? rupiah + ',' + split[1] : rupiah;
            return rupiah
        }


        // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;

    }

var mybutton = document.getElementById("myBtn");
var bars = document.getElementById("bars");

// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};


function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
    $("#sidebar").addClass('hides'); 
    $("#sidebar").removeClass('active'); 
    $("#bars").removeClass('colorBars'); 

  } else {
    mybutton.style.display = "none";
    
  }
}

    </script>

</body>
</html>

